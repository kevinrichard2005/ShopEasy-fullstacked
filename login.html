<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Login to ShopEasy - Access your account">
  <title>Login - ShopEasy</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="/static/css/responsive.css">
</head>

<body class="auth-body">
  <!-- Navigation -->
  <nav class="navbar" id="navbar">
    <div class="nav-container">
      <a href="/" class="nav-logo">
        <i class="fas fa-shopping-bag"></i>
        <span>Shop<span class="logo-accent">Easy</span></span>
      </a>
      <div class="nav-actions">
        <a href="/" class="nav-action-btn"><i class="fas fa-home"></i><span class="nav-label">Home</span></a>
        <button class="nav-action-btn mobile-menu-btn" id="mobileMenuBtn">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
      <div class="mobile-nav-links">
        <a href="/" class="mobile-nav-link"><i class="fas fa-home"></i> Home</a>
        {% if current_user.is_authenticated %}
        <a href="/cart" class="mobile-nav-link"><i class="fas fa-shopping-cart"></i> Cart</a>
        <a href="/logout" class="mobile-nav-link"><i class="fas fa-sign-out-alt"></i> Logout</a>
        {% else %}
        <a href="/login" class="mobile-nav-link"><i class="fas fa-sign-in-alt"></i> Login</a>
        <a href="/register" class="mobile-nav-link"><i class="fas fa-user-plus"></i> Register</a>
        {% endif %}
      </div>
    </div>
  </nav>

  <!-- Flash Messages -->
  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  <div class="flash-container">
    {% for category, message in messages %}
    <div class="flash-message flash-{{ category }}">
      <i
        class="fas {% if category == 'success' %}fa-check-circle{% elif category == 'error' %}fa-exclamation-circle{% else %}fa-info-circle{% endif %}"></i>
      <span>{{ message }}</span>
      <button class="flash-close" onclick="this.parentElement.remove()"><i class="fas fa-times"></i></button>
    </div>
    {% endfor %}
  </div>
  {% endif %}
  {% endwith %}

  <section class="auth-section">
    <div class="auth-box" data-aos="fade-up">
      <h2>Welcome Back</h2>
      <p class="auth-subtitle">Sign in to continue your shopping journey</p>
      <form action="/login" method="POST">
        <div class="form-group">
          <label>Email Address</label>
          <input type="email" name="email" required class="form-input" placeholder="Enter your email">
        </div>
        <div class="form-group">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
            <label style="margin-bottom: 0;">Password</label>
            <a href="/forgot-password" style="font-size: 13px; color: var(--primary); font-weight: 600;">Forgot?</a>
          </div>
          <div style="position: relative;">
            <input type="password" name="password" required class="form-input" placeholder="••••••••"
              style="padding-right: 48px;">
            <button type="button" class="password-toggle" onclick="togglePassword(this)"
              style="position: absolute; right: 16px; top: 50%; transform: translateY(-50%); background: none; border: none; color: var(--gray-400); cursor: pointer;">
              <i class="fas fa-eye"></i>
            </button>
          </div>
        </div>
        <button type="submit" class="btn btn-primary"
          style="width: 100%; height: 56px; font-weight: 800; font-size: 16px; border-radius: 12px; margin-top: 8px;">
          Sign In
        </button>
      </form>
      <p style="text-align: center; margin-top: 32px; color: var(--text-muted); font-size: 15px;">
        New to ShopEasy? <a href="/register" style="color: var(--primary); font-weight: 700;">Create account</a>
      </p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-bottom">
        <p>&copy; 2024 ShopEasy. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
  <script>
    if (typeof AOS !== 'undefined') AOS.init({ duration: 800, once: true });
  </script>
  <script src="/static/js/script.js"></script>
</body>

</html>